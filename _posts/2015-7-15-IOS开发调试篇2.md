# 使用LLDB
## LLDB 是一个有着REPL(Read Eval Print Loop) 的特性和C++，Python插件的开源调速器。

## 支持功能
### Read   读取
### Eval   修改变量
### Print  输出
 
## 不支持功能
### 创建新函数.block
### 创建新class

### 功能类型
### Debug Commands
### User-define Commands

## 如何使用

### 添加断点

* ![添加断点](https://github.com/Ambtion/ambtion.github.io/blob/master/imageSource/lldb/Create_breakpoint.png)
* Condition : 添加断点调节，比如 填写 “i==100”，那么当 “i==100”断点执行
* Ignore：忽略几次断点
* Action:添加断点行为，可以是调试器命令，shell 命令，也可以是更直接的打印 
* Automatically continue after evaluation actions: 自动执行断点
 
 ### LLDB调试命令

* expression | e  
  
* ![LLDB expression](https://github.com/Ambtion/ambtion.github.io/blob/master/imageSource/lldb/LLDB_E.png)

* expression 功能： 
*打印调试的值
*在调试空间生成一个临时变量
*改变变量的值
*在调试工具命名变量

* printf | p  (call)
'print' is an abbreviation for 'expression --'.   (print是 `expression --` 的缩写)

* 断点控制

* ![](https://github.com/Ambtion/ambtion.github.io/blob/master/imageSource/lldb/Thread_progross.png)
*上图断点命令名称                对应LLDB命令
*1： continue               process continue | c
*2： step over              thread step-over | next | n | step | s
*3： step into              thread step-in 
*4： step  out              thread step-out

* Thread return

*模拟函数返回，可以带上一个参数表示函数返回参数，该断点后的代码不被执行，由于破坏函数的执行，可能导致ARC机制的引用计  数出问题，导致内存泄露；

* LLDB Demon

*[插入一个ios私有接口的git开源库，试用LLDB中由于是Debug，我们可以通过访问一些私有接口Debug](https://github.com/Ambtion/iOS-Headers)

*1： 更新UI

` (lldb) po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]`
`<UIWindow: 0x7f82b1fa8140; frame = (0 0; 320 568); gestureRecognizers = <NSArray: 0x7f82b1fa92d0>;layer = <UIWindowLayer: 0x7f82b1fa8400>> | <UIView: 0x7f82b1d01fd0; frame = (0 0; 320 568);autoresize =   W+H; layer = <CALayer: 0x7f82b1e2e0a0>>`
`(lldb) e id $myView = (id)0x7f82b1d01fd0`
`(lldb) e (void)[CATransaction flush]`

*2: PushView
 
`(lldb) e id $nvc = [[[UIApplication sharedApplication] keyWindow] rootViewController]`
`(lldb) e id $vc = [UIViewController new]`
`(lldb) e (void)[[$vc view] setBackgroundColor:[UIColor yellowColor]]`
`(lldb) e (void)[$vc setTitle:@"Yay!"]`
`(lldb) e (void)[$nvc pushViewContoller:$vc animated:YES]`
